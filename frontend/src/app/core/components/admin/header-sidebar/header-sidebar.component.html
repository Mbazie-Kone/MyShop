<div class="layout-wrapper" [ngClass]="{ 'collapsed': layoutService.isCollapsed() }">
  <div class="navbar fixed-top">
    <div class="container-fluid d-flex justify-content-between align-items-center">

      <!-- Left section -->
      <div class="left-section d-flex align-items-center">
        <button type="button" class="btn btn-link p-0" (click)="toggleSidebar()" (keyup.enter)="toggleSidebar()" (keyup.space)="toggleSidebar()">
          <i class="icon-hamburger"></i>
        </button>
      </div>
      
      <!-- Center section -->
      <div class="center-section">
        <form class="d-flex search-form" role="search">
          <input
            class="form-control me-2"
            type="search"
            placeholder="Search"
            aria-label="Search"/>
        </form>
      </div>
      
      <!-- Right section -->
      <div class="margin-right-icons d-flex align-items-center">
        <a routerLink="/administration/notifications">
          <i class="icon-bell"></i>
        </a>
        <div class="user-menu">
          <button type="button" class="btn btn-link p-0" (click)="toggleUserCard()" (keyup.enter)="toggleUserCard()" (keyup.space)="toggleUserCard()">
            <i class="icon-user"></i>
          </button>
          <div class="user-card" *ngIf="showUserCard">
            <div class="card-body text-center">
              <p class="user-logged">
                <strong>{{ username }}</strong>
              </p>
              <hr>
              <a routerLink="/administration/user/settings">Settings</a>
              <button type="button" class="btn btn-link p-0" (click)="logout()" (keyup.enter)="logout()" (keyup.space)="logout()">
                <span class="logout mt-2">Sign Out</span>
              </button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="sidebar">
    <div class="sidebar-logo-container">
      <a routerLink="/administration/dashboard">
        <!-- Expanded logo when sidebar is open -->
        <img *ngIf="!layoutService.isCollapsed()" 
             src="assets/images/logo.png" 
             alt="logo" 
             class="sidebar-logo logo-expanded" />
        
        <!-- Collapsed logo when sidebar is closed -->
        <img *ngIf="layoutService.isCollapsed()" 
             src="assets/images/logo-collapsed.png" 
             alt="logo" 
             class="sidebar-logo logo-collapsed" />
      </a>
    </div>
    <div class="sidebar-icons-container">
      <!-- Dashboard -->
      <a routerLink="/administration/dashboard" routerLinkActive="active" data-tooltip="Dashboard">
        <i class="icon-dashboard sidebar-icons d-flex justify-content-center"></i>
        <span class="sidebar-icons-name">Dashboard</span>
      </a>

      <!-- Products -->
      <a routerLink="/administration/view-products" 
         [class.active]="isProductsActive()"
         data-tooltip="Products">
        <i class="icon-products sidebar-icons d-flex justify-content-center"></i>
        <span class="sidebar-icons-name">Products</span>
      </a>

      <!-- Orders -->
      <a routerLink="/administration/orders" routerLinkActive="active" data-tooltip="Orders">
        <i class="icon-cart sidebar-icons d-flex justify-content-center"></i>
        <span class="sidebar-icons-name">Orders</span>
      </a>

      <!-- Customer -->
      <a routerLink="/administration/customer" routerLinkActive="active" data-tooltip="Customer">
        <i class="icon-user sidebar-icons d-flex justify-content-center"></i>
        <span class="sidebar-icons-name">Customer</span>
      </a>

      <!-- Settings -->
      <a routerLink="/administration/settings" routerLinkActive="active" data-tooltip="Settings">
        <i class="icon-settings sidebar-icons d-flex justify-content-center"></i>
        <span class="sidebar-icons-name">Settings</span>
      </a>
    </div>
  </div>
</div> 